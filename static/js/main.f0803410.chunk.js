(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{227:function(e,t,a){e.exports=a.p+"static/media/ring.4d1881e7.svg"},235:function(e,t,a){e.exports=a(522)},246:function(e,t,a){},522:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(54),i=a.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(47),c=a(48),s=a(234),m=a(20),u=a(204),d="CREATE_ITEM",p="CREATE_LOG",f="ITEM_SET_NAME",g="ADD_TO_LOG",h="DELETE_FROM_LOG",b="CLEAR_LOG";var v=a(233),E=a(113),O={item:{id:0,name:"",start:null,end:null,duration:null},list:[]};var y="GET_TASK",j="GET_TASK_LOADING",S="GET_TASK_SUCCESS",k="GET_TASK_FAILED",T="CLEAR_TASK";var I={loading:!0,success:!1,failed:!1,item:{id:0,name:null,start:null,end:null,duration:null}};var C=Object(l.combineReducers)({timer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return{item:t.payload,list:e.list};case p:return{item:e.item,list:t.payload};case f:return{item:Object(E.a)({},e.item,{name:t.payload}),list:e.list};case g:return{item:O.item,list:[].concat(Object(v.a)(e.list),[t.payload])};case h:return{item:e.item,list:e.list.filter(function(e){return e.id!==t.payload})};case b:return{item:e.item,list:O.list};default:return e}},task:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(E.a)({},e,{loading:!0});case S:return{loading:!1,success:!0,failed:!1,item:t.payload};case k:return{loading:!1,success:!1,failed:!0,item:t.payload};case T:return I;default:return e}}}),N=a(63),w=a.n(N),D=a(45),x=w.a.mark(_),A=w.a.mark(M),F=function(e){return new Promise(function(t){return setTimeout(t,e)})},L=function(e){return e.timer.list};function _(e){var t,a;return w.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(D.b)(F,1e3);case 3:return n.next=5,Object(D.e)(L);case 5:if(t=n.sent,!(a=t.find(function(t){return t.id===+e.payload}))){n.next=12;break}return n.next=10,Object(D.d)({type:S,payload:a});case 10:n.next=14;break;case 12:return n.next=14,Object(D.d)({type:k,payload:404});case 14:n.next=20;break;case 16:return n.prev=16,n.t0=n.catch(0),n.next=20,Object(D.d)({type:k,payload:n.t0});case 20:case"end":return n.stop()}},x,this,[[0,16]])}function M(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)([Object(D.f)(y,_)]);case 2:case"end":return e.stop()}},A,this)}var B=w.a.mark(J);function J(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)([Object(D.c)(M)]);case 2:case"end":return e.stop()}},B,this)}a(246);var H=a(30),G=a(31),R=a(33),W=a(32),K=a(34),P=a(531),z=a(532),U=a(530),Y=a(525),$=a(38),q=a.n($),Q=a(226),V=a.n(Q),X=a(140),Z=a.n(X),ee=a(37),te={button:{background:"#fff",color:"#3f51b5",padding:"5px"},mainContainer:{width:"100%",paddingRight:"15px",paddingLeft:"15px",marginRight:"auto",marginLeft:"auto"},mainTabList:{flexGrow:1,backgroundColor:"#02BCD4",width:"100%",color:"#fff"},mainTab:{fontWeight:600,fontSize:"small"},timerClock:{background:"#fff",color:"#3f51b5",fontWeight:900,fontSize:"x-large",padding:"65px 80px 90px",margin:"20px"},taskWrapper:{margin:"10px 0 25px 0",textAlign:"center"},infoCard:{marginTop:20,textAlign:"left"},infoFooter:{justifyContent:"center"},logRow:{background:"#EAF6FF"},logCell:{textAlign:"center",paddingTop:"10px",paddingBottom:"10px",color:"#3f51b5"},chartButtonContainer:{textAlign:"right",marginBottom:30},dialogTitle:{color:"#ff0000"},dialogButton:{color:"#0EBFD7"},infoPreloader:{marginTop:50}},ae=a(211),ne=a.n(ae),re=a(39),oe=a.n(re),ie=a(205),le=a.n(ie),ce=function(e){function t(e){var a;return Object(H.a)(this,t),(a=Object(R.a)(this,Object(W.a)(t).call(this,e))).state={time:null},a.state={time:m.Duration.fromMillis(e.duration?e.duration:0),intervalId:null},a}return Object(K.a)(t,e),Object(G.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.started;this.runner(e)}},{key:"componentDidUpdate",value:function(e){var t=this.props.started;t!==e.started&&this.runner(t)}},{key:"componentWillUnmount",value:function(){var e=this.state.intervalId;clearInterval(e)}},{key:"runner",value:function(e){var t=this,a=this.state.intervalId;if(e){var n=setInterval(function(){t.addSecond()},1e3);this.setState({intervalId:n})}else clearInterval(a),this.setState({time:m.Duration.fromMillis(0)})}},{key:"addSecond",value:function(){var e=this.state.time;this.setState({time:e.plus(m.Duration.fromMillis(1e3))})}},{key:"render",value:function(){var e=this.state.time,t=this.props.classes;return r.a.createElement(le.a,{variant:"round",className:t.timerClock},e.toFormat("hh:mm:ss"))}}]),t}(n.PureComponent),se=Object(ee.withStyles)(te)(ce),me=a(206),ue=a.n(me),de=a(210),pe=a.n(de),fe=a(208),ge=a.n(fe),he=a(209),be=a.n(he),ve=a(207),Ee=a.n(ve),Oe=function(e){function t(){return Object(H.a)(this,t),Object(R.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.props,t=e.open,a=e.closeDialog,n=e.classes;return r.a.createElement(ue.a,{open:t,onClose:a(),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Ee.a,{id:"alert-dialog-title",disableTypography:!0},r.a.createElement("h2",{className:n.dialogTitle},"Empty task name")),r.a.createElement(ge.a,null,r.a.createElement(be.a,{id:"alert-dialog-description"},"You are trying close your task without name, enter the title and try again!")),r.a.createElement(pe.a,null,r.a.createElement(oe.a,{onClick:a(),className:n.dialogButton,autoFocus:!0},"Close")))}}]),t}(n.Component),ye=Object(ee.withStyles)(te)(Oe),je=10,Se=15,ke=10,Te=90,Ie=10,Ce=50,Ne=4,we=function(){var e=JSON.parse(localStorage.getItem("list")),t=1;return e&&(e.sort(function(e,t){return e.id-t.id}),t=++e.pop().id),t},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return Math.floor(Math.random()*(t-e)+e+1)},xe=function(e){for(var t=e.map(function(e){var t=m.DateTime.fromISO(e.start),a=m.DateTime.fromISO(e.end);return{id:e.id,interval:m.Interval.fromDateTimes(t,a),start:t,end:a}}),a=[],n=function(e){var n=0,r=m.DateTime.fromObject({hour:e,minute:0,second:0}),o=m.DateTime.fromObject({hour:e,minute:59,second:59}),i=m.Interval.fromDateTimes(r,o),l=t.filter(function(e){return i.intersection(e.interval)});if(l.length>0){var c=60;l.forEach(function(t){t.end.hour===e&&t.start.hour===e?c=t.end.diff(t.start,["minutes"]).toObject().minutes:t.end.hour===e?c=t.end.minute:t.start.hour===e&&(c=60-t.start.minute),n+=c})}a.push({hour:e,value:n>60?60:n})},r=0;r<=23;r++)n(r);return a},Ae=function(e){function t(e){var a;Object(H.a)(this,t),(a=Object(R.a)(this,Object(W.a)(t).call(this))).state={name:"",started:!1,duration:0,dialog:!1},a.onChangeName=function(e){var t=a.props.changeName;a.setState({name:e.target.value}),t(e.target.value)},a.onStartClick=function(){var e=a.state.name,t=a.props.createItem;a.setState({started:!0}),t({id:we(),start:m.DateTime.local().toISO(),name:e,end:null,duration:null})},a.onStopClick=function(){var e=a.state.name,t=a.props,n=t.addToLog,r=t.timer.item;if(e){a.setState({started:!1,name:""});var o=m.DateTime.local();n({id:r.id,name:e,start:r.start,end:o.toISO(),duration:o.diff(m.DateTime.fromISO(r.start),["hours","minutes","seconds"]).toObject()})}else a.openDialog()},a.closeDialog=function(){return function(){a.setState({dialog:!1})}},a.openDialog=function(){a.setState({dialog:!0})},a.renderButton=function(e){var t=a.props.classes;return r.a.createElement(oe.a,{className:t.button,variant:"contained",size:"small",onClick:e?a.onStopClick:a.onStartClick},e?"Stop":"Start")};var n=e.timer.item;if(n&&0!==n.id){var o=m.DateTime.fromISO(n.start).diffNow("millisecond");a.state={started:!0,duration:Math.abs(o.valueOf()),name:n.name,dialog:!1}}return a}return Object(K.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.state,t=e.started,a=e.duration,n=e.name,o=e.dialog,i=this.props.classes;return r.a.createElement(q.a,{container:!0,spacing:8,justify:"center",className:i.taskWrapper},r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(ye,{open:o,closeDialog:this.closeDialog})),r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(ne.a,{className:"taskInput",value:n,name:"timerName",onChange:this.onChangeName})),r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(se,{started:t,duration:a})),r.a.createElement(q.a,{item:!0,xs:12},this.renderButton(t)))}}]),t}(n.Component),Fe=Object(c.b)(function(e){return{timer:e.timer}},function(e){return{changeName:function(t){return e(function(e){return{type:f,payload:e}}(t))},addToLog:function(t){return e({type:g,payload:t})},createItem:function(t){return e(function(e){return{type:d,payload:e}}(t))}}})(Object(ee.withStyles)(te)(Ae)),Le=a(212),_e=a.n(Le),Me=a(214),Be=a.n(Me),Je=a(40),He=a.n(Je),Ge=a(213),Re=a.n(Ge),We=a(136),Ke=a.n(We),Pe=function(e){function t(){var e,a;Object(H.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(R.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).destroy=function(e){return function(){(0,a.props.deleteFromLog)(e)}},a}return Object(K.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.list;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_e.a,null,r.a.createElement(Re.a,null,r.a.createElement(Ke.a,null,r.a.createElement(He.a,{align:"center"},"\u2116"),r.a.createElement(He.a,{align:"center"},"Task"),r.a.createElement(He.a,{align:"center"},"Time Start"),r.a.createElement(He.a,{align:"center"},"Time End"),r.a.createElement(He.a,{align:"center"},"Time Spend"),r.a.createElement(He.a,{align:"center"},"Info"),r.a.createElement(He.a,{align:"center"},"Delete"))),r.a.createElement(Be.a,null,n.map(function(t){return r.a.createElement(Ke.a,{className:a.logRow,key:t.id},r.a.createElement(He.a,{className:a.logCell},t.id),r.a.createElement(He.a,{className:a.logCell},t.name),r.a.createElement(He.a,{className:a.logCell},m.DateTime.fromISO(t.start).toFormat("HH:mm:ss")),r.a.createElement(He.a,{className:a.logCell},m.DateTime.fromISO(t.end).toFormat("HH:mm:ss")),r.a.createElement(He.a,{className:a.logCell},m.DateTime.fromObject(t.duration).toFormat("HH:mm:ss")),r.a.createElement(He.a,{className:a.logCell},r.a.createElement(oe.a,{className:a.button,variant:"contained",component:Y.a,to:"/tasks/".concat(t.id)},"Info")),r.a.createElement(He.a,{align:"center"},r.a.createElement(oe.a,{className:a.button,variant:"contained",size:"small",onClick:e.destroy(t.id)},"Delete")))}))))}}]),t}(n.PureComponent),ze=Object(c.b)(function(e){return{list:e.timer.list}},function(e){return{deleteFromLog:function(t){return e({type:h,payload:t})}}})(Object(ee.withStyles)(te)(Pe)),Ue=a(526),Ye=a(528),$e=a(496),qe=a(497),Qe=a(527),Ve=a(523),Xe=a(112),Ze=function(e){function t(){var e,a;Object(H.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(R.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).generateEvents=function(){var e=a.props,t=e.createLog;(0,e.clearLog)();for(var n=m.DateTime.fromObject({hour:Ne}),r=[],o=1;o<De(je,Se);o++){var i=De(Ie,Ce),l=De(ke,Te),c=n.plus({minutes:i}),s=c.plus({minutes:l});n=n.plus({minutes:l+i});var u={id:o,name:"item".concat(o),start:c.toISO(),end:s.toISO(),duration:s.diff(c,["hours","minutes","seconds"]).toObject()};r.push(u)}t(r)},a}return Object(K.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.list;return r.a.createElement(n.Fragment,null,r.a.createElement(Ue.a,{width:"100%",height:300},r.a.createElement(Ye.a,{data:xe(a),margin:{top:20,right:30,left:0,bottom:0}},">",r.a.createElement($e.a,{dataKey:"hour"}),r.a.createElement(qe.a,null),r.a.createElement(Qe.a,null),r.a.createElement(Ve.a,{type:"monotone",dataKey:"value",name:"Minutes in this hours",fill:"#3248C7",barSize:30}),r.a.createElement(Xe.a,{verticalAlign:"bottom"}))),r.a.createElement(q.a,{container:!0},r.a.createElement(q.a,{item:!0,xs:12,className:t.chartButtonContainer},r.a.createElement(oe.a,{variant:"contained",size:"small",className:t.button,onClick:this.generateEvents},"Generate"))))}}]),t}(n.Component),et=Object(c.b)(function(e){return{list:e.timer.list}},function(e){return{createLog:function(t){return e(function(e){return{type:p,payload:e}}(t))},clearLog:function(){return e({type:b})}}})(Object(ee.withStyles)(te)(Ze)),tt=function(e){function t(){var e,a;Object(H.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(R.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(o)))).getCurrentTab=function(){var e=a.props.match.params.tab;return void 0===e?"log":e},a.renderTab=function(){switch(a.getCurrentTab()){case"log":return r.a.createElement(ze,null);case"chart":return r.a.createElement(et,null);default:return""}},a}return Object(K.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.getCurrentTab();return r.a.createElement(n.Fragment,null,r.a.createElement(Fe,null),r.a.createElement(q.a,{container:!0,spacing:8,justify:"center",className:e.mainContainer},r.a.createElement(q.a,{item:!0,lg:1}),r.a.createElement(q.a,{item:!0,lg:9,md:12,xs:12},r.a.createElement(V.a,{value:t,className:e.mainTabList,variant:"fullWidth"},r.a.createElement(Z.a,{className:e.mainTab,label:"Tasks log",value:"log",component:Y.a,to:"/log"}),r.a.createElement(Z.a,{className:e.mainTab,label:"Tasks chart",value:"chart",component:Y.a,to:"/chart"})),this.renderTab()),r.a.createElement(q.a,{item:!0,lg:1})))}}]),t}(n.Component),at=Object(ee.withStyles)(te)(tt),nt=a(529),rt=a(228),ot=a.n(rt),it=a(229),lt=a.n(it),ct=a(232),st=a.n(ct),mt=a(231),ut=a.n(mt),dt=a(230),pt=a.n(dt),ft=a(141),gt=a.n(ft),ht=a(60),bt=a.n(ht),vt=a(227),Et=a.n(vt),Ot=function(e){function t(){return Object(H.a)(this,t),Object(R.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(G.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match,a=e.getTask;t.params.id&&a(t.params.id)}},{key:"componentWillUnmount",value:function(){(0,this.props.clearTask)()}},{key:"renderInfo",value:function(){var e=this.props,t=e.task,a=e.classes,n=t.item;return t.loading?r.a.createElement("div",{className:a.infoPreloader},r.a.createElement("img",{src:Et.a,alt:"",height:100})):t.failed&&404===n?r.a.createElement(nt.a,{to:"/404"}):t.success?r.a.createElement(ot.a,{className:a.infoCard},r.a.createElement(lt.a,null,r.a.createElement(pt.a,{title:n.name,align:"center"}),r.a.createElement(gt.a,null),r.a.createElement(ut.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(bt.a,{variant:"h6",component:"h5"},"ID: ",n.id),r.a.createElement(bt.a,{variant:"h6",component:"h5"},"Start: ",m.DateTime.fromISO(n.start).toFormat("HH:mm:ss")),r.a.createElement(bt.a,{variant:"h6",component:"h5"},"End: ",m.DateTime.fromISO(n.end).toFormat("HH:mm:ss")),r.a.createElement(bt.a,{variant:"h6",component:"h5"},"Duration: ",m.DateTime.fromObject(n.duration||{}).toFormat("HH:mm:ss")))),r.a.createElement(gt.a,null)),r.a.createElement(st.a,{className:a.infoFooter},r.a.createElement(oe.a,{className:a.button,variant:"contained",component:Y.a,to:"/log"},"Back"))):void 0}},{key:"render",value:function(){return r.a.createElement(q.a,{container:!0,justify:"center"},this.renderInfo())}}]),t}(n.PureComponent),yt=Object(c.b)(function(e){return{task:e.task}},function(e){return{getTask:function(t){return e(function(e){return{type:y,payload:e}}(t))},clearTask:function(){return e({type:T})}}})(Object(ee.withStyles)(te)(Ot)),jt=function(e){function t(){return Object(H.a)(this,t),Object(R.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{align:"center"},r.a.createElement("h2",null,"404 - Not found"),r.a.createElement(oe.a,{className:e.button,variant:"contained",component:Y.a,to:"/log"},"Back"))}}]),t}(n.PureComponent),St=Object(ee.withStyles)(te)(jt),kt=function(e){function t(){return Object(H.a)(this,t),Object(R.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){return console.log("/timer-react"),r.a.createElement(U.a,{basename:"/timer-react"},r.a.createElement(P.a,null,r.a.createElement(z.a,{exact:!0,path:"/404",component:St}),r.a.createElement(z.a,{path:"/tasks/:id",component:yt}),r.a.createElement(z.a,{path:"/:tab?",component:at})))}}]),t}(n.Component),Tt=Object(s.a)(),It=function(){var e={timer:{item:{id:0,name:"",start:null,end:null,duration:null},list:[]}};try{var t=JSON.parse(localStorage.getItem("item"));if(t){var a=m.DateTime.fromISO(t.start).diffNow("millisecond");e.timer.item={id:t.id,name:localStorage.getItem("name")||"",start:t.start,duration:Math.abs(a.valueOf())}}var n=JSON.parse(localStorage.getItem("list"))||[];return e.timer.list=n.map(function(e){return{id:e.id,name:e.name,start:e.start,end:e.end,duration:e.duration}}),e}catch(r){console.error("startup",r)}}(),Ct=Object(l.createStore)(C,It,Object(u.composeWithDevTools)(Object(l.applyMiddleware)(function(){return function(e){return function(t){if(t.type)switch(t.type){case d:localStorage.setItem("item",JSON.stringify(t.payload));break;case p:localStorage.setItem("list",JSON.stringify(t.payload));break;case g:var a=JSON.parse(localStorage.getItem("list"))||[];a.push(t.payload),localStorage.removeItem("item"),localStorage.removeItem("name"),localStorage.setItem("list",JSON.stringify(a));break;case h:var n=JSON.parse(localStorage.getItem("list"));n&&(n=n.filter(function(e){return e.id!==t.payload}),localStorage.setItem("list",JSON.stringify(n)));break;case f:var r=JSON.parse(localStorage.getItem("item"));r&&(r.name=t.payload,localStorage.setItem("item",JSON.stringify(r))),localStorage.setItem("name",t.payload||"");break;case b:localStorage.removeItem("list")}return e(t)}}},Tt)));Tt.run(J),i.a.render(r.a.createElement(c.a,{store:Ct},r.a.createElement(kt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[235,2,1]]]);
//# sourceMappingURL=main.f0803410.chunk.js.map